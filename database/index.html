<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Database | Maprouting optimization</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/-system-of-optimization-of-maprouting/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="description" content="System for building the optimal route on the map">
    
    <link rel="preload" href="/-system-of-optimization-of-maprouting/assets/css/0.styles.4d6d6f33.css" as="style"><link rel="preload" href="/-system-of-optimization-of-maprouting/assets/js/app.7297243e.js" as="script"><link rel="preload" href="/-system-of-optimization-of-maprouting/assets/js/2.b2f11321.js" as="script"><link rel="preload" href="/-system-of-optimization-of-maprouting/assets/js/8.423566ed.js" as="script"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/10.dab72b81.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/11.c3a14970.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/12.5c47c730.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/13.dd975ed6.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/14.2600db85.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/3.b948f3f0.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/4.f68ba6ba.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/5.8773aa61.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/6.29afea76.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/7.29226641.js"><link rel="prefetch" href="/-system-of-optimization-of-maprouting/assets/js/9.7111dcfe.js">
    <link rel="stylesheet" href="/-system-of-optimization-of-maprouting/assets/css/0.styles.4d6d6f33.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/-system-of-optimization-of-maprouting/" class="home-link router-link-active"><!----> <span class="site-name">Maprouting optimization</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/-system-of-optimization-of-maprouting/" class="nav-link">
  start
</a></div> <a href="https://github.com/BohdanShmalko/-system-of-optimization-of-maprouting" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/-system-of-optimization-of-maprouting/" class="nav-link">
  start
</a></div> <a href="https://github.com/BohdanShmalko/-system-of-optimization-of-maprouting" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/-system-of-optimization-of-maprouting/intro/" class="sidebar-link">Introduction</a></li><li><a href="/-system-of-optimization-of-maprouting/modules/" class="sidebar-link">System modules</a></li><li><a href="/-system-of-optimization-of-maprouting/websocket/" class="sidebar-link">Websocket API</a></li><li><a href="/-system-of-optimization-of-maprouting/webhooks/" class="sidebar-link">Webhook settings</a></li><li><a href="/-system-of-optimization-of-maprouting/rest/" class="sidebar-link">REST API</a></li><li><a href="/-system-of-optimization-of-maprouting/database/" aria-current="page" class="active sidebar-link">Database</a></li><li><a href="/-system-of-optimization-of-maprouting/test/" class="sidebar-link">System testing</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="database"><a href="#database" class="header-anchor">#</a> Database</h1> <p>System for building the optimal route on the map use MongoDB database.</p> <p>MongoDB is a document database with the scalability and flexibility that you want with the querying and indexing that you need. MongoDB’s document model is simple for developers to learn and use, while still providing all the capabilities needed to meet the most complex requirements at any scale.</p> <h2 id="connections-scheme"><a href="#connections-scheme" class="header-anchor">#</a> Connections scheme</h2> <p><img src="https://i.ibb.co/1Xvzsjm/database2.png" alt="connections scheme"></p> <h2 id="collections"><a href="#collections" class="header-anchor">#</a> Collections</h2> <p>Collections in the MongoDB database (tables)</p> <h3 id="super-admins"><a href="#super-admins" class="header-anchor">#</a> Super Admins</h3> <p>System administrators who have access to internal system configurations and can create clients</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>apiKey</td> <td>string</td> <td>unique admin api key</td></tr> <tr><td>name</td> <td>string</td> <td>unique admin name</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="clients"><a href="#clients" class="header-anchor">#</a> Clients</h3> <p>Clients that use this system</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>apiKey</td> <td>string</td> <td>unique client api key</td></tr> <tr><td>name</td> <td>string</td> <td>unique client name</td></tr> <tr><td>adminCreated</td> <td>ObjectId</td> <td>ref to superAdmin collection</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="webhooks"><a href="#webhooks" class="header-anchor">#</a> Webhooks</h3> <p>All client webhooks (for instant notification of the client)</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>clientId</td> <td>ObjectId</td> <td>ref to client collection</td></tr> <tr><td>url</td> <td>string</td> <td>client redirect url</td></tr> <tr><td>event</td> <td>string</td> <td>system event</td></tr> <tr><td>name</td> <td>string</td> <td>client webhook name</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="webhooks-history"><a href="#webhooks-history" class="header-anchor">#</a> Webhooks History</h3> <p>All client webhooks history (for instant notification of the client)</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>webhookId</td> <td>ObjectId</td> <td>ref to webhooks collection</td></tr> <tr><td>data</td> <td>Mixed</td> <td>webhook data</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="users"><a href="#users" class="header-anchor">#</a> Users</h3> <p>Data on registered users in the system</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>clientId</td> <td>ObjectId</td> <td>ref to client collection</td></tr> <tr><td>externalId</td> <td>string</td> <td>optional external id</td></tr> <tr><td>optionalParams</td> <td>Mixed</td> <td>optional user params</td></tr> <tr><td>algorithm</td> <td>string</td> <td>choosen algorithm</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="usershistory"><a href="#usershistory" class="header-anchor">#</a> UsersHistory</h3> <p>The location of the user at a certain time</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>userId</td> <td>ObjectId</td> <td>ref to user collection</td></tr> <tr><td>lat</td> <td>string</td> <td>lat coordinate</td></tr> <tr><td>lon</td> <td>string</td> <td>lon coordinate</td></tr> <tr><td>time</td> <td>number</td> <td>time</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="errors"><a href="#errors" class="header-anchor">#</a> Errors</h3> <p>Users errors</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>userId</td> <td>ObjectId</td> <td>ref to user collection</td></tr> <tr><td>message</td> <td>string</td> <td>error message</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="rooms"><a href="#rooms" class="header-anchor">#</a> Rooms</h3> <p>Rooms in the system (for communication with websockets)</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>twoUsers</td> <td>boolean</td> <td>is two users in room</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="userrooms"><a href="#userrooms" class="header-anchor">#</a> UserRooms</h3> <p>Users in some room</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>userId</td> <td>ObjectId</td> <td>ref to user collection</td></tr> <tr><td>roomId</td> <td>ObjectId</td> <td>ref to room collection</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="locations"><a href="#locations" class="header-anchor">#</a> Locations</h3> <p>Optimized locations in the system</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>startLat</td> <td>string</td> <td>start lat coordinate</td></tr> <tr><td>startLon</td> <td>string</td> <td>start lon coordinate</td></tr> <tr><td>endLat</td> <td>string</td> <td>end lat coordinate</td></tr> <tr><td>endLon</td> <td>string</td> <td>end lon coordinate</td></tr> <tr><td>algorithm</td> <td>string</td> <td>location algorithm</td></tr> <tr><td>transport</td> <td>string</td> <td>location transport</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table> <h3 id="locationsteps"><a href="#locationsteps" class="header-anchor">#</a> LocationSteps</h3> <p>Steps to move from one location to another</p> <table><thead><tr><th>name</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>_id</td> <td>ObjectId</td> <td>Unique identifier</td></tr> <tr><td>locationId</td> <td>ObjectId</td> <td>ref to location collection</td></tr> <tr><td>lat</td> <td>string</td> <td>lat coordinate</td></tr> <tr><td>lon</td> <td>string</td> <td>lon coordinate</td></tr> <tr><td>step</td> <td>number</td> <td>step to optimization</td></tr> <tr><td>createdAt</td> <td>Date</td> <td>data creation time</td></tr> <tr><td>updatedAt</td> <td>Date</td> <td>data update time</td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last update:</span> <span class="time">4/3/2022, 9:58:20 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/-system-of-optimization-of-maprouting/rest/" class="prev">
        REST API
      </a></span> <span class="next"><a href="/-system-of-optimization-of-maprouting/test/">
        System testing
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/-system-of-optimization-of-maprouting/assets/js/app.7297243e.js" defer></script><script src="/-system-of-optimization-of-maprouting/assets/js/2.b2f11321.js" defer></script><script src="/-system-of-optimization-of-maprouting/assets/js/8.423566ed.js" defer></script>
  </body>
</html>
